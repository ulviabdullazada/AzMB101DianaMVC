@using Diana.ViewModels.BasketVM
@model List<BasketProductItemVM>
<div class="header-action">
    <div class="header-mini-cart">
        <button class="mini-cart-toggle">
            <i class="icon bardy bardy-shopping-cart"></i>
            <span class="number">@Model.Sum(x=>x.Count)</span>
        </button>
        <div class="mini-cart-dropdown" style="overflow-y:scroll">
            <h4 class="cart-title">Your cart</h4>
            <div class="cart-item-wrap">
                @foreach (var item in Model)
                {
                    <div class="cart-item">
                        <div class="thumb">
                            <a href="#/"><img class="w-100" src="~/@item.ImageUrl" alt="Image-HasTech"></a>
                            <a class="remove" asp-action="RemoveBasket" asp-controller="Product" asp-route-id="@item.Id"><i class="fa fa-trash-o"></i></a>
                        </div>
                        <div class="content">
                            <h5 class="title"><a href="#/">@item.Name</a></h5>
                            <span>@item.Count x $ @item.Price</span>
                        </div>
                    </div>
                }
            </div>
            <div class="mini-cart-footer">
                <h4>Subtotal: <span class="total">$ @Model.Sum(p=> p.Count * p.Price)</span></h4>
                <div class="cart-btn">
                    <a href="shop-cart.html">View Cart</a>
                    <a href="shop-checkout.html">Checkout</a>
                </div>
            </div>
        </div>
    </div>
</div>